# ============================================================
# Kustomize 配置文件
# 用于管理多环境部署
# ============================================================

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# 命名空间
namespace: default

# 通用标签
commonLabels:
  app: svelte-admin
  managed-by: kustomize

# 通用注解
commonAnnotations:
  description: "Svelte 管理后台应用"

# 资源列表
resources:
  - configmap.yaml
  - deployment.yaml
  - service.yaml
  - ingress.yaml
  - hpa.yaml

# 镜像配置
images:
  - name: your-registry/svelte-admin
    newName: your-registry/svelte-admin
    newTag: latest

# ConfigMap 生成器（可选）
# configMapGenerator:
#   - name: svelte-admin-config
#     literals:
#       - VITE_APP_TITLE=管理平台
#       - VITE_APP_VERSION=v1.0.0

# Secret 生成器（可选）
# secretGenerator:
#   - name: svelte-admin-secret
#     literals:
#       - API_KEY=your-api-key

# 副本数量覆盖
replicas:
  - name: svelte-admin
    count: 3
